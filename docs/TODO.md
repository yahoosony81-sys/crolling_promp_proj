[ ] `.cursor/` 디렉토리
  - [ ] `rules/` 커서룰
  - [ ] `mcp.json` MCP 서버 설정
  - [ ] `dir.md` 프로젝트 디렉토리 구조
- [ ] `.github/` 디렉토리
- [ ] `.husky/` 디렉토리
- [ ] `app/` 디렉토리
  - [ ] `favicon.ico` 파일
  - [ ] `not-found.tsx` 파일
  - [ ] `robots.ts` 파일
  - [ ] `sitemap.ts` 파일
  - [ ] `manifest.ts` 파일
- [ ] `supabase/` 디렉토리
- [ ] `public/` 디렉토리
  - [ ] `icons/` 디렉토리
  - [ ] `logo.png` 파일
  - [ ] `og-image.png` 파일
- [ ] `tsconfig.json` 파일
- [ ] `.cursorignore` 파일
- [ ] `.gitignore` 파일
- [ ] `.prettierignore` 파일
- [ ] `.prettierrc` 파일
- [ ] `tsconfig.json` 파일
- [ ] `eslint.config.mjs` 파일
- [ ] `AGENTS.md` 파일

# TrendScrape Prompt MVP TODO List

## 데이터베이스 설정
- [x] `supabase/migrations/db.sql` 마이그레이션 적용
  - [x] `supabase/migrations/20251213000000_create_trendscrape_schema.sql` 마이그레이션 파일 생성
  - [x] Clerk 호환성 수정 (subscriptions, prompt_usages 테이블의 user_id를 public.users 참조로 변경)
  - [x] 함수 통합 (handle_updated_at() 함수 재사용)
  - [x] 모든 테이블 생성 (prompt_templates, trend_packs, scraped_items, pack_prompts, subscriptions, prompt_usages)
  - [x] 인덱스 및 제약조건 설정
  - [x] updated_at 자동 갱신 트리거 설정
- [x] RLS (Row Level Security) 정책 설정 (기본)
  - [x] `prompt_templates` 테이블 RLS (무료 프롬프트 공개, 유료는 인증 필요)
  - [x] `trend_packs` 테이블 RLS (published 상태만 공개)
  - [x] `scraped_items` 테이블 RLS (published pack의 항목만 조회 가능)
  - [x] `pack_prompts` 테이블 RLS (published pack의 항목만 조회 가능)
  - [x] `subscriptions` 테이블 RLS (사용자 자신의 구독 정보만 조회/수정 가능)
  - [x] `prompt_usages` 테이블 RLS (사용자 자신의 사용 기록만 조회/생성 가능)
  ---
  - [ ] RLS 정책 상세 검토 및 테스트 (별도 TODO)
- [x] 초기 데이터 시딩
  - [x] `supabase/seed.sql` 시딩 파일 생성
  - [x] 무료 프롬프트 템플릿 12개 추가
    - [x] 블로그 글 작성 프롬프트 3개 (blog)
    - [x] 유튜브 숏츠 스크립트 2개 (shorts)
    - [x] 인스타그램 릴스 스크립트 1개 (reels)
    - [x] 상품 분석 프롬프트 2개 (product)
    - [x] 트렌드 요약 프롬프트 2개 (trend)
    - [x] 주식 분석 프롬프트 1개 (stock)
    - [x] 부동산 분석 프롬프트 1개 (real_estate)
  - [x] 샘플 트렌드 패키지 데이터 추가
    - [x] 겨울 패션 트렌드 패키지 (product 카테고리, published 상태)
    - [x] AI 콘텐츠 제작 트렌드 패키지 (blog 카테고리, published 상태)
  - [x] Scraped Items 데이터 추가
    - [x] 겨울 패션 패키지에 연결된 스크랩 아이템 4개
    - [x] AI 콘텐츠 패키지에 연결된 스크랩 아이템 3개
  - [x] Pack-Prompt 연결 데이터 생성
    - [x] 각 트렌드 패키지에 적절한 프롬프트 연결

## 페이지 구현
- [x] `/` 랜딩 페이지
  - [x] 히어로 섹션 ("매주 업데이트되는 트렌드 프롬프트")
  - [x] 차별화 포인트 섹션
  - [x] 무료 체험 CTA 버튼
  - [x] 최신 트렌드 예시 표시 (1~2개)
  - [x] 무료 프롬프트 샘플 미리보기
  ---
  - [x] 랜딩 페이지 구현 세부 작업
    - [x] `src/app/page.tsx` 데이터 페칭 로직 구현 (Supabase 서버 클라이언트 사용)
    - [x] `src/components/landing/hero-section.tsx` 히어로 섹션 컴포넌트 생성
    - [x] `src/components/landing/differentiators-section.tsx` 차별화 포인트 섹션 컴포넌트 생성
    - [x] `src/components/landing/latest-trends-section.tsx` 최신 트렌드 예시 섹션 컴포넌트 생성
    - [x] `src/components/landing/free-prompts-section.tsx` 무료 프롬프트 샘플 섹션 컴포넌트 생성
    - [x] `src/components/landing/cta-section.tsx` CTA 섹션 컴포넌트 생성
    - [x] 모든 섹션 컴포넌트를 `page.tsx`에 통합
    - [x] 반응형 디자인 적용 (모바일, 태블릿, 데스크톱)
    - [x] 메타데이터 및 SEO 설정 (title, description)
- [x] `/free` 무료 프롬프트 10선 페이지
  - [x] 프롬프트 리스트 컴포넌트
  - [x] 카테고리 필터 기능
  - [x] 프롬프트 복사 버튼
  - [x] 프롬프트 상세 모달/페이지
  - [x] 유료 전환 CTA 배치
  - [x] 사용 기록 추적 (prompt_usages)
  ---
  - [x] 무료 프롬프트 페이지 구현 세부 작업
    - [x] `src/app/free/page.tsx` 메인 페이지 컴포넌트 및 데이터 페칭 로직 구현
    - [x] `src/components/prompts/prompt-card.tsx` 프롬프트 카드 컴포넌트 생성
    - [x] `src/components/prompts/category-filter.tsx` 카테고리 필터 컴포넌트 생성
    - [x] `src/components/prompts/copy-button.tsx` 복사 버튼 컴포넌트 생성 (클립보드 API, 토스트 피드백)
    - [x] `src/components/prompts/prompt-detail-modal.tsx` 프롬프트 상세 모달 컴포넌트 생성
    - [x] `src/components/prompts/prompt-list.tsx` 프롬프트 리스트 컴포넌트 생성 (필터링 기능 포함)
    - [x] `src/app/api/prompts/usage/route.ts` 사용 기록 API 라우트 생성
    - [x] `src/components/prompts/upgrade-cta.tsx` 유료 전환 CTA 컴포넌트 생성
    - [x] 모든 컴포넌트를 free/page.tsx에 통합
    - [x] 반응형 디자인 적용 (모바일, 태블릿, 데스크톱)
    - [x] 메타데이터 및 SEO 설정
    - [x] Toaster 컴포넌트를 layout.tsx에 추가 (토스트 알림 지원)
- [x] `/trends` 주간 트렌드 패키지 목록 페이지 (유료)
  - [x] 이번 주 트렌드 요약 섹션
  - [x] 카테고리 필터 (product, real_estate, stock, blog, shorts, reels)
  - [x] 패키지 카드 리스트 컴포넌트
  - [x] 구독 체크 및 접근 제어
  - [x] 페이지네이션
  ---
  - [x] `/trends` 페이지 구현 세부 작업
    - [x] `src/lib/utils/subscription.ts` 구독 체크 유틸리티 함수 생성
    - [x] `src/lib/utils/trend.ts` 트렌드 관련 유틸리티 함수 생성 (week_key 생성)
    - [x] `src/components/trends/subscription-gate.tsx` 구독 게이트 컴포넌트 생성
    - [x] `src/components/trends/trend-pack-card.tsx` 트렌드 패키지 카드 컴포넌트 생성
    - [x] `src/components/trends/week-summary-section.tsx` 이번 주 트렌드 요약 섹션 컴포넌트 생성
    - [x] `src/components/trends/category-filter-trends.tsx` 트렌드 페이지용 카테고리 필터 컴포넌트 생성
    - [x] `src/components/trends/trend-pack-list.tsx` 트렌드 패키지 리스트 컴포넌트 생성
    - [x] `src/app/trends/page.tsx` 메인 페이지 컴포넌트 및 데이터 페칭 로직 구현
    - [x] `src/app/trends/trends-content.tsx` 클라이언트 컴포넌트 생성 (카테고리 필터링, 페이지네이션 포함)
    - [x] `src/components/ui/pagination.tsx` 페이지네이션 컴포넌트 수정 (onClick 지원)
    - [x] 구독 체크 로직 구현 (서버 사이드)
    - [x] 인증 체크 및 리다이렉트 구현
    - [x] 반응형 디자인 적용 (모바일, 태블릿, 데스크톱)
    - [x] 메타데이터 및 SEO 설정
    ---
    - [x] `/trends` 페이지 개선 작업 (plan 모드 build)
      - [x] `src/components/trends/trend-pack-skeleton.tsx` 스켈레톤 로딩 컴포넌트 생성
      - [x] `src/app/trends/page.tsx` Suspense 경계 추가 및 로딩 상태 처리
      - [x] `src/components/trends/trends-error.tsx` 에러 메시지 컴포넌트 생성
      - [x] `src/app/trends/error.tsx` 에러 바운더리 구현
      - [x] `src/app/trends/trends-content.tsx` URL 쿼리 파라미터로 상태 유지 (카테고리, 페이지 번호)
      - [x] `src/components/trends/week-summary-section.tsx` 빈 상태 개선 (다음 주 예정 트렌드 안내)
      - [x] `src/app/trends/page.tsx` 데이터 페칭 캐싱 전략 적용 (revalidate: 3600)
      - [x] `src/app/trends/trends-content.tsx` 메모이제이션 최적화 (페이지네이션 계산, 페이지 번호 생성)
      - [x] 모든 트렌드 관련 컴포넌트 접근성 개선 (ARIA 레이블, 키보드 네비게이션)
      - [x] `src/app/trends/page.tsx` SEO 메타데이터 개선 (Open Graph, Twitter Card)
      - [x] `src/components/trends/trend-pack-card.tsx` 카드 호버 효과 개선 (transition-all, translate-y)
      - [x] `src/components/trends/category-filter-trends.tsx` 모바일 반응형 개선 (스크롤 가능한 필터)
- [x] `/packs/[id]` 패키지 상세 페이지
  - [x] 트렌드 설명 섹션
  - [x] 수집 데이터 요약 표시 (scraped_items)
  - [x] 목적 선택 UI (분석/콘텐츠 제작/판매/투자)
  - [x] 프롬프트 리스트 (pack_prompts 연결)
  - [x] 프롬프트 복사 기능
  - [x] 구독 체크 및 접근 제어
  ---
  - [x] `/packs/[id]` 페이지 구현 세부 작업
    - [x] `src/app/packs/[id]/page.tsx` 메인 페이지 컴포넌트 및 데이터 페칭 로직 구현
    - [x] `src/app/packs/[id]/pack-detail-content.tsx` 클라이언트 컴포넌트 생성 (목적 선택 상태 관리, 필터링 포함)
    - [x] `src/app/packs/[id]/loading.tsx` 로딩 상태 컴포넌트 생성
    - [x] `src/app/packs/[id]/error.tsx` 에러 바운더리 구현
    - [x] `src/components/packs/trend-description-section.tsx` 트렌드 설명 섹션 컴포넌트 생성
    - [x] `src/components/packs/scraped-item-card.tsx` 스크랩 아이템 카드 컴포넌트 생성
    - [x] `src/components/packs/scraped-items-section.tsx` 수집 데이터 섹션 컴포넌트 생성
    - [x] `src/components/packs/purpose-selector.tsx` 목적 선택 UI 컴포넌트 생성 (분석/콘텐츠 제작/판매/투자 필터링)
    - [x] `src/components/packs/pack-prompt-card.tsx` 패키지용 프롬프트 카드 컴포넌트 생성
    - [x] `src/components/packs/pack-prompts-section.tsx` 프롬프트 리스트 섹션 컴포넌트 생성
    - [x] `src/components/prompts/copy-button.tsx` pack_id 지원 추가 (사용 기록 추적)
    - [x] 모든 컴포넌트를 pack-detail-content.tsx에 통합
    - [x] 구독 체크 로직 구현 (서버 사이드)
    - [x] 인증 체크 및 리다이렉트 구현
    - [x] 반응형 디자인 적용 (모바일, 태블릿, 데스크톱)
    - [x] 메타데이터 및 SEO 설정 (동적 title, description, Open Graph)
    - [x] `src/app/globals.css` scrollbar-hide 유틸리티 클래스 추가
- [ ] `/pricing` 구독 안내 페이지
  - [ ] 무료 vs 유료 기능 비교 테이블
  - [ ] 월 9,900원 플랜 강조
  - [ ] 구독 CTA 버튼
  - [ ] 결제 연동 (Stripe/Toss Payments 등)
  ---
  - [x] `/pricing` 페이지 구현 세부 작업
    - [x] `src/lib/constants/pricing.ts` 기능 비교 데이터 상수 정의
    - [x] `src/components/pricing/pricing-table.tsx` 무료 vs 유료 기능 비교 테이블 컴포넌트 생성
    - [x] `src/components/pricing/plan-highlight.tsx` 월 9,900원 플랜 강조 섹션 컴포넌트 생성
    - [x] `src/components/pricing/subscribe-cta.tsx` 구독 CTA 컴포넌트 생성 (Clerk 인증 체크 포함)
    - [x] `src/app/pricing/page.tsx` 메인 페이지 컴포넌트 생성 (Header 통합, 메타데이터, dynamic 설정)
    - [x] 모든 섹션 컴포넌트를 pricing/page.tsx에 통합
    - [x] 반응형 디자인 적용 (모바일, 태블릿, 데스크톱)
    - [x] SEO 메타데이터 설정 (title, description, Open Graph)
    - [x] `src/app/api/subscriptions/create/route.ts` 결제 API 라우트 스켈레톤 생성
    - [x] `src/lib/types/payment.ts` 결제 관련 타입 정의
- [ ] `/account` 내 계정 페이지
  - [ ] 구독 상태 표시
  - [ ] 결제 정보 표시
  - [ ] 이용 기록 (prompt_usages)
  - [ ] 구독 취소 기능
  - [ ] 결제 내역
  ---
  - [x] `/account` 페이지 구현 세부 작업
    - [x] `src/lib/utils/date.ts` 날짜 포맷팅 유틸리티 함수 생성 (date-fns 활용)
    - [x] `src/lib/utils/subscription.ts` 구독 관련 유틸리티 함수 확장 (상태 라벨, 취소 함수)
    - [x] `src/app/api/subscriptions/cancel/route.ts` 구독 취소 API 라우트 생성
    - [x] `src/app/api/account/usage/route.ts` 이용 기록 조회 API 라우트 생성 (페이지네이션)
    - [x] `src/components/account/subscription-status.tsx` 구독 상태 표시 컴포넌트 생성
    - [x] `src/components/account/payment-info.tsx` 결제 정보 표시 컴포넌트 생성
    - [x] `src/components/account/usage-history.tsx` 이용 기록 리스트 컴포넌트 생성 (페이지네이션)
    - [x] `src/components/account/cancel-subscription.tsx` 구독 취소 컴포넌트 생성 (AlertDialog)
    - [x] `src/components/account/payment-history.tsx` 결제 내역 섹션 생성 (구조만)
    - [x] `src/app/account/page.tsx` 메인 페이지 컴포넌트 생성 (인증 체크, 데이터 페칭, 컴포넌트 통합)
    - [x] 모든 섹션 컴포넌트를 account/page.tsx에 통합
    - [x] 반응형 디자인 적용 (모바일, 태블릿, 데스크톱)
    - [x] SEO 메타데이터 설정 (title, description, robots)

## API 라우트
- [x] `/api/prompts` 프롬프트 관련 API
  - [x] GET: 무료 프롬프트 목록 조회
  - [x] GET: 프롬프트 상세 조회
  - [x] POST: 프롬프트 사용 기록 (prompt_usages)
  ---
  - [x] `/api/prompts` API 구현 세부 작업 (plan 모드 build)
    - [x] `src/app/api/prompts/route.ts` GET 라우트 구현 (무료 프롬프트 목록 조회, 카테고리 필터링, 페이지네이션 지원)
    - [x] `src/app/api/prompts/[id]/route.ts` GET 라우트 구현 (프롬프트 상세 조회, 무료/유료 구분, 인증 체크)
    - [x] 에러 처리 및 HTTP 상태 코드 구현 (400, 401, 404, 500)
    - [x] 타입 안정성 확보 (Database 타입 사용, 응답 타입 정의)
    - [x] UUID 형식 검증 및 쿼리 파라미터 검증 로직 구현
- [x] `/api/trends` 트렌드 패키지 관련 API
  - [x] GET: 트렌드 패키지 목록 조회
  - [x] GET: 트렌드 패키지 상세 조회
  - [x] GET: 스크랩된 아이템 목록 조회
  ---
  - [x] `/api/trends` API 구현 세부 작업 (plan 모드 build)
    - [x] `src/app/api/trends/route.ts` GET 라우트 구현 (트렌드 패키지 목록 조회, 인증/구독 체크, 카테고리/주차 필터링, 페이지네이션 지원)
    - [x] `src/app/api/trends/[id]/route.ts` GET 라우트 구현 (트렌드 패키지 상세 조회, 인증/구독 체크, UUID 검증)
    - [x] `src/app/api/trends/[id]/scraped-items/route.ts` GET 라우트 구현 (스크랩된 아이템 목록 조회, 인증/구독 체크, 페이지네이션 지원)
    - [x] 인증 및 구독 체크 로직 구현 (모든 API에 공통 적용)
    - [x] 에러 처리 및 HTTP 상태 코드 구현 (400, 401, 403, 404, 500)
    - [x] 타입 안정성 확보 (Database 타입 사용, 응답 타입 정의)
- [x] `/api/subscriptions` 구독 관련 API
  - [x] GET: 구독 상태 조회 (`/api/subscriptions/create` GET 메서드)
  - [x] POST: 구독 생성 (`/api/subscriptions/create` POST 메서드 - 구조만 준비, 결제 연동은 나중에 구현)
  - [x] PATCH: 구독 취소 (`/api/subscriptions/cancel` PATCH 메서드)
  - [x] GET: 결제 내역 조회 (`/api/subscriptions/payment-history`)
- [ ] `/api/webhooks` 웹훅 처리
  - [ ] 결제 웹훅 처리
  - [ ] 구독 갱신 웹훅 처리
  ---
  - [ ] `/api/webhooks` 웹훅 처리 구현 세부 작업 (plan 모드 build)
    - [x] `src/app/api/webhooks/toss/route.ts` 웹훅 API 라우트 생성 (서명 검증, 이벤트 처리, 구독 상태 업데이트)
    - [x] `src/lib/utils/webhook.ts` 웹훅 유틸리티 함수 생성 (Toss Payments 서명 검증 함수)
    - [x] `src/lib/types/webhook.ts` 웹훅 이벤트 타입 정의 (Toss Payments 웹훅 페이로드 인터페이스)
    - [x] `src/lib/utils/subscription.ts` 웹훅용 구독 생성/업데이트 함수 추가 (Clerk user ID 매핑 포함)
    - [x] `docs/WEBHOOK_SETUP.md` 환경 변수 설정 가이드 문서화
    - [ ] 웹훅 테스트 및 검증 (로컬 테스트 환경 설정, Toss Payments 테스트 웹훅 전송)
    - [x] `src/app/api/webhooks/clerk/route.ts` Clerk 웹훅 API 라우트 생성 (서명 검증, 이벤트 처리, 사용자 동기화)
    - [x] `src/lib/utils/webhook.ts` Clerk 웹훅 서명 검증 함수 추가
    - [x] `src/lib/types/webhook.ts` Clerk 웹훅 이벤트 타입 정의 추가
    - [x] `src/lib/utils/clerk-sync.ts` Clerk → Supabase 사용자 동기화 함수 구현
    - [x] `docs/WEBHOOK_SETUP.md` Clerk 웹훅 설정 가이드 추가

## 컴포넌트
- [x] 공통 컴포넌트
  - [x] `PromptCard` 프롬프트 카드 컴포넌트
  - [x] `TrendPackCard` 트렌드 패키지 카드 컴포넌트
  - [x] `ScrapedItemCard` 스크랩 아이템 카드 컴포넌트
  - [x] `CopyButton` 복사 버튼 컴포넌트
  - [x] `CategoryFilter` 카테고리 필터 컴포넌트
  - [x] `SubscriptionGate` 구독 체크 게이트 컴포넌트
  - [x] `PricingTable` 가격 비교 테이블 컴포넌트
- [x] 레이아웃 컴포넌트
  - [x] `Header` 헤더 컴포넌트 (네비게이션)
  - [x] `Footer` 푸터 컴포넌트
  - [x] `CTA` CTA 섹션 컴포넌트
  ---
  - [x] 레이아웃 컴포넌트 구현 세부 작업 (plan 모드 build)
    - [x] `src/components/header.tsx` Header 컴포넌트 개선 (네비게이션 메뉴 추가, 모바일 햄버거 메뉴, 현재 페이지 활성화 표시, 로고 개선)
    - [x] `src/components/profile.tsx` Profile 컴포넌트를 클라이언트 컴포넌트로 변경 (Clerk useUser 훅 사용)
    - [x] `src/components/footer.tsx` Footer 컴포넌트 생성 (링크 섹션, 법적 정보, 연락처, 저작권 정보 포함)
    - [x] `src/components/layout/cta-section.tsx` CTA 컴포넌트 재사용 가능하게 개선 및 이동 (props로 커스터마이징 가능)
    - [x] `src/app/layout.tsx` Header와 Footer 통합 (모든 페이지에 자동 적용)
    - [x] 각 페이지에서 개별 Header import 제거 (page.tsx, free/page.tsx, trends/page.tsx, packs/[id]/page.tsx, pricing/page.tsx, account/page.tsx)

## 인증 및 구독 기능
- [x] Clerk 인증 통합
  - [x] 로그인/회원가입 페이지
  - [x] 사용자 프로필 관리
  ---
  - [x] Clerk 인증 통합 구현 세부 작업 (plan 모드 build)
    - [x] `src/app/sign-up/page.tsx` 회원가입 페이지 생성 (Clerk SignUp 컴포넌트 사용, 한국어 로컬라이제이션, 리다이렉트 처리)
    - [x] `src/app/login/page.tsx` 로그인 페이지 Clerk 통합 (Clerk SignIn 컴포넌트로 변경, 한국어 로컬라이제이션, 리다이렉트 처리)
    - [x] `src/app/profile/page.tsx` 사용자 프로필 관리 페이지 생성 (Clerk UserProfile 컴포넌트 사용, 인증 체크, dynamic 설정)
    - [x] `src/middleware.ts` 보호된 라우트 업데이트 (/trends, /packs, /account, /profile 추가, /sign-up 인증 경로 추가)
    - [x] `src/components/profile.tsx` 프로필 페이지 링크 추가
    - [x] `src/app/login/actions.ts` 기존 Supabase 인증 코드 제거
    - [x] `src/app/auth/confirm/route.ts` 기존 Supabase 인증 확인 라우트 제거
- [x] 구독 상태 관리
  - [x] 구독 체크 유틸리티 함수
  - [x] 구독 만료 체크 로직
  - [x] 구독 갱신 로직
  ---
  - [x] 구독 상태 관리 구현 세부 작업 (plan 모드 build)
    - [x] `src/lib/utils/subscription.ts` 만료된 구독 처리 함수 추가 (`expireSubscriptions()`)
    - [x] `src/lib/utils/subscription.ts` 만료 예정 구독 조회 함수 추가 (`getExpiringSubscriptions()`)
    - [x] `src/lib/utils/subscription.ts` 구독 갱신 함수 추가 (`renewSubscription()`)
    - [x] `src/lib/utils/subscription.ts` 구독 상태 업데이트 함수 추가 (`updateSubscriptionStatus()`)
    - [x] `src/app/api/subscriptions/renew/route.ts` 구독 갱신 API 라우트 생성 (POST 메서드, 인증 체크, 결제 연동 준비)
    - [x] `src/app/api/subscriptions/expire/route.ts` 만료된 구독 처리 배치 작업 API 라우트 생성 (POST 메서드, 내부 API 키 인증)
    - [x] `src/app/api/subscriptions/expiring/route.ts` 만료 예정 구독 조회 API 라우트 생성 (GET 메서드, 쿼리 파라미터 days 지원, 내부 API 키 인증)
- [ ] 결제 연동
  - [ ] 결제 프로바이더 선택 및 설정 (Stripe/Toss Payments)
  - [ ] 결제 페이지 구현
  - [ ] 결제 성공/실패 처리
  ---
  - [x] 결제 연동 구현 세부 작업 (plan 모드 build)
    - [x] `src/lib/toss-payments/client.ts` Toss Payments 서버 클라이언트 유틸리티 함수 생성 (빌링키 발급, 자동결제 승인)
    - [x] `src/lib/types/payment.ts` Toss Payments 관련 타입 정의 추가 (빌링키 발급 요청/응답, 자동결제 승인 요청/응답)
    - [x] `src/app/api/subscriptions/create/route.ts` 구독 생성 API 구현 (결제 세션 정보 반환)
    - [x] `src/app/api/subscriptions/billing-key/route.ts` 빌링키 발급 및 첫 결제 실행 API 라우트 생성
    - [x] `src/app/checkout/page.tsx` 결제 페이지 구현 (카드 등록창 표시)
    - [x] `src/components/checkout/payment-widget.tsx` 결제 위젯 컴포넌트 생성 (Toss Payments JavaScript SDK 사용)
    - [x] `src/app/checkout/success/page.tsx` 결제 성공 페이지 구현 (빌링키 발급 및 첫 결제 처리)
    - [x] `src/components/checkout/checkout-success-content.tsx` 결제 성공 콘텐츠 컴포넌트 생성 (빌링키 발급 및 결제 처리 로직)
    - [x] `src/app/checkout/cancel/page.tsx` 결제 취소 페이지 구현
    - [x] `src/components/pricing/subscribe-cta.tsx` 구독 CTA 컴포넌트 업데이트 (결제 페이지로 리다이렉트)
    - [x] `docs/WEBHOOK_SETUP.md` 환경 변수 설정 가이드 업데이트 (결제 API 키 설정 방법, 테스트 결제 안내 추가)

## 크롤링/스크래핑 기능 (백엔드)
- [x] 크롤링 스크립트 개발
  - [x] 주간 트렌드 키워드 수집
  - [x] 카테고리별 데이터 수집
  - [x] 데이터 요약 및 가공
- [x] 배치 작업 설정
  - [x] 주 1~2회 자동 실행 스케줄러
  - [x] 트렌드 패키지 자동 생성
  - [x] 스크랩 아이템 자동 저장
- [x] 데이터 품질 관리
  - [x] 중복 URL 체크
  - [x] 데이터 검증 로직
  - [x] 에러 핸들링
  ---
  - [x] 크롤링/스크래핑 기능 구현 세부 작업 (plan 모드 build)
    - [x] `src/lib/types/crawler.ts` 크롤링 관련 타입 정의 생성 (ScrapedItemData, CrawlConfig, TrendKeyword, CrawlResult, CrawlStatus)
    - [x] `src/lib/utils/crawler.ts` 크롤링 유틸리티 함수 구현 (네이버 뉴스 크롤링, HTML 파싱, 데이터 검증, 중복 체크)
    - [x] `src/lib/utils/ai-summary.ts` AI 요약 유틸리티 구현 (OpenAI API 연동, 요약 필요성 판단, 하이브리드 요약)
    - [x] `src/lib/utils/trend-keywords.ts` 트렌드 키워드 수집 함수 구현 (카테고리별 키워드 수집, 패키지 제목/요약 생성)
    - [x] `src/lib/utils/trend-pack.ts` 트렌드 패키지 생성 유틸리티 구현 (trend_packs 생성, pack_prompts 연결)
    - [x] `src/lib/utils/scraped-items.ts` 스크랩 아이템 저장 유틸리티 구현 (scraped_items 일괄 저장, 중복 체크, 삭제 기능)
    - [x] `src/app/api/crawl/run/route.ts` 크롤링 실행 API 라우트 생성 (POST 메서드, 내부 API 키 인증, 카테고리별 크롤링 실행)
    - [x] `src/app/api/crawl/status/route.ts` 크롤링 상태 조회 API 라우트 생성 (GET 메서드, 최근 실행 시간 및 통계 조회)
    - [x] `vercel.json` Vercel Cron 설정 (주 1회 자동 실행 스케줄: 매주 월요일 오전 2시)
    - [x] `cheerio` 패키지 설치 (HTML 파싱용)
  ---
  - [x] 크롤링 스크립트 개발 개선 및 확장 (plan 모드 build)
    - [x] `src/lib/config/crawler-config.ts` 크롤링 설정 및 환경 변수 관리 시스템 구축 (Rate limiting, 카테고리별 소스 우선순위 설정)
    - [x] `src/lib/utils/crawl-logger.ts` 크롤링 로깅 시스템 구축 (구조화된 로깅 함수, 통계 수집, 에러 분류)
    - [x] `src/lib/utils/trend-keywords.ts` 트렌드 키워드 수집 소스 확장 (네이버 실시간 검색어, 쿠팡, 네이버 쇼핑, 부동산, 증권 키워드 수집 함수 추가)
    - [x] `src/lib/utils/crawler.ts` 카테고리별 데이터 수집 소스 추가 (쿠팡, 네이버 쇼핑, 부동산, 증권, 블로그 크롤러 구현, 통합 크롤링 함수 추가)
    - [x] `src/lib/utils/data-processor.ts` 데이터 가공 로직 개선 (구조화된 데이터 추출, 카테고리별 특화 요약 로직, 품질 점수 계산)
    - [x] `src/lib/utils/crawler.ts` 에러 핸들링 및 재시도 로직 강화 (retryWithBackoff 구현, 타임아웃 설정, 에러 분류 및 처리 개선)
    - [x] `src/app/api/crawl/run/route.ts` 크롤링 실행 API 개선 (카테고리별 에러 처리 개선, 상세한 에러 메시지 반환, 로깅 시스템 통합)
    - [x] `src/app/api/crawl/status/route.ts` 크롤링 상태 조회 API 개선 (더 상세한 통계 정보 반환, 카테고리별 성공률 추적, 최근 로그 조회)

## 유틸리티 및 헬퍼 함수
- [x] `lib/utils/prompt.ts` 프롬프트 관련 유틸
  - [x] 프롬프트 변수 치환 함수
  - [x] 프롬프트 포맷팅 함수
  ---
  - [x] `lib/utils/prompt.ts` 프롬프트 관련 유틸 구현 세부 작업 (plan 모드 build)
    - [x] `src/lib/types/prompt.ts` 프롬프트 관련 타입 정의 생성 (VariableGuide, PromptInputs, VariableValidationResult)
    - [x] `src/lib/utils/prompt.ts` 프롬프트 유틸리티 함수 구현
      - [x] `replaceVariables()` 변수 치환 함수 구현 (중괄호 변수를 실제 값으로 치환)
      - [x] `extractVariables()` 변수 추출 함수 구현 (프롬프트 본문에서 변수명 목록 추출, 중복 제거)
      - [x] `validateVariables()` 변수 검증 함수 구현 (필요한 변수 제공 여부 확인)
      - [x] `formatPrompt()` 프롬프트 포맷팅 함수 구현 (들여쓰기 옵션 지원)
      - [x] `parseVariableGuide()` 변수 가이드 파싱 함수 구현 (JSONB를 타입 안전한 배열로 변환)
      - [x] `parseExampleInputs()` 예시 입력값 파싱 함수 구현 (JSONB를 객체로 변환)
      - [x] `createPromptWithVariables()` 변수 치환된 프롬프트 생성 함수 구현 (통합 헬퍼 함수)
    - [x] `src/components/prompts/copy-button.tsx` 변수 치환 기능 통합 (example_inputs가 있으면 자동 치환된 프롬프트 복사)
    - [x] `src/components/prompts/prompt-detail-modal.tsx` 변수 가이드 표시 개선 (parseVariableGuide 사용, 변수 치환 미리보기 추가)
- [x] `lib/utils/subscription.ts` 구독 관련 유틸
  - [x] 구독 상태 체크 함수
  - [x] 구독 만료일 계산 함수
- [x] `lib/utils/trend.ts` 트렌드 관련 유틸
  - [x] 주차 키 생성 함수 (week_key)
  - [x] 트렌드 키워드 추출 함수

## 타입 정의
- [x] `types/database.ts` 데이터베이스 타입 생성
  - [x] Supabase 타입 자동 생성 스크립트 실행
  ---
  - [x] `types/database.ts` 데이터베이스 타입 생성 구현 세부 작업 (plan 모드 build)
    - [x] `database.types.ts`를 `src/lib/types/database.ts`로 이동
    - [x] 모든 파일의 import 경로를 `@/../database.types`에서 `@/lib/types/database`로 변경 (33개 파일)
    - [x] `src/lib/supabase/server.ts`에 Database 타입 적용 (`createServerClient<Database>()`)
    - [x] `src/lib/supabase/client.ts`에 Database 타입 적용 (`createBrowserClient<Database>()`)
    - [x] `src/lib/supabase/client-hook.ts`에 Database 타입 적용 (`createSupabaseClient<Database>()`)
    - [x] `src/lib/supabase/server-admin.ts`에 Database 타입 적용 (`createSupabaseClient<Database>()`)
    - [x] `package.json`의 `gen:types` 스크립트 개선 (환경 변수 사용, 출력 경로를 `src/lib/types/database.ts`로 변경)
    - [x] 기존 `database.types.ts` 파일 삭제
    - [x] 모든 테이블 타입 포함 여부 검증 (prompt_templates, trend_packs, scraped_items, pack_prompts, subscriptions, prompt_usages)
    - [x] `docs/TYPES.md` 타입 사용 가이드 문서 생성
- [x] `types/prompt.ts` 프롬프트 관련 타입
- [x] `types/trend.ts` 트렌드 관련 타입
  ---
  - [x] `types/trend.ts` 트렌드 관련 타입 구현 세부 작업 (plan 모드 build)
    - [x] `src/lib/types/trend.ts` 트렌드 관련 타입 파일 생성
    - [x] TrendPack, TrendPackInsert, TrendPackUpdate 타입 정의 (Database에서 재export)
    - [x] ScrapedItem, ScrapedItemInsert, ScrapedItemUpdate 타입 정의 (Database에서 재export)
    - [x] TrendCategory 타입 정의 ("product" | "real_estate" | "stock" | "blog" | "shorts" | "reels")
    - [x] TrendPackStatus 타입 정의 ("draft" | "published" | "archived")
    - [x] WeekKey 타입 정의
    - [x] TrendCategoryInfo 인터페이스 및 TREND_CATEGORIES 상수 정의
    - [x] TrendPackSummary, TrendPackDetail 인터페이스 정의
    - [x] TrendKeywordStats, WeekTrendStats 인터페이스 정의
    - [x] TrendPackFilter 인터페이스 및 TrendPackSortOption 타입 정의
    - [x] `src/app/trends/trends-content.tsx`에서 새로운 타입 사용하도록 업데이트
    - [x] `src/app/trends/page.tsx`에서 새로운 타입 사용하도록 업데이트
    - [x] `src/app/api/trends/route.ts`에서 새로운 타입 사용하도록 업데이트
    - [x] `src/app/api/trends/[id]/route.ts`에서 새로운 타입 사용하도록 업데이트
    - [x] `src/app/api/trends/[id]/scraped-items/route.ts`에서 새로운 타입 사용하도록 업데이트
    - [x] `src/app/packs/[id]/page.tsx`에서 새로운 타입 사용하도록 업데이트
    - [x] `src/app/packs/[id]/pack-detail-content.tsx`에서 새로운 타입 사용하도록 업데이트
    - [x] `src/app/page.tsx`에서 새로운 타입 사용하도록 업데이트
    - [x] `src/components/landing/latest-trends-section.tsx`에서 새로운 타입 사용하도록 업데이트
    - [x] `src/components/trends/trend-pack-card.tsx`에서 새로운 타입 사용하도록 업데이트
    - [x] `src/components/trends/trend-pack-list.tsx`에서 새로운 타입 사용하도록 업데이트
    - [x] `src/components/trends/week-summary-section.tsx`에서 새로운 타입 사용하도록 업데이트
    - [x] `src/components/packs/trend-description-section.tsx`에서 새로운 타입 사용하도록 업데이트
    - [x] `src/components/packs/scraped-items-section.tsx`에서 새로운 타입 사용하도록 업데이트
    - [x] `src/components/packs/scraped-item-card.tsx`에서 새로운 타입 사용하도록 업데이트
- [x] `types/subscription.ts` 구독 관련 타입
  ---
  - [x] `types/subscription.ts` 구독 관련 타입 구현 세부 작업 (plan 모드 build)
    - [x] `src/lib/types/subscription.ts` 구독 관련 타입 파일 생성
    - [x] Subscription, SubscriptionInsert, SubscriptionUpdate 타입 정의 (Database에서 재export)
    - [x] SubscriptionStatus 타입 정의 ("active" | "past_due" | "canceled")
    - [x] SubscriptionPlanName 타입 정의 ("monthly_9900")
    - [x] SubscriptionPlan 인터페이스 및 SUBSCRIPTION_PLANS 상수 정의
    - [x] SubscriptionStatusLabel, SubscriptionStatusVariant 타입 정의
    - [x] SubscriptionPeriod, SubscriptionStats 인터페이스 정의
    - [x] `src/lib/utils/subscription.ts`에서 새로운 타입 사용하도록 업데이트
    - [x] `src/components/account/subscription-status.tsx`에서 새로운 타입 사용하도록 업데이트
    - [x] `src/components/account/payment-info.tsx`에서 새로운 타입 사용하도록 업데이트
    - [x] `src/components/account/cancel-subscription.tsx`에서 새로운 타입 사용하도록 업데이트
    - [x] `src/app/api/subscriptions/payment-history/route.ts`에서 새로운 타입 사용하도록 업데이트

## 스타일링 및 UI/UX
- [x] 테마 설정
  - [x] 다크 모드 지원
  - [x] 색상 팔레트 정의
  ---
  - [x] 테마 설정 구현 세부 작업 (plan 모드 build)
    - [x] `src/lib/constants/colors.ts` 색상 팔레트 상수 정의 (라이트/다크 모드별 색상 값, oklch 색상 공간 사용)
    - [x] `src/lib/types/theme.ts` 테마 관련 타입 정의 (ThemeMode, ColorPalette, ThemeConfig, ColorKey)
    - [x] `src/lib/utils/theme.ts` 테마 유틸리티 함수 구현 (getThemeColor, isDarkMode, getThemeConfig, getResolvedTheme, getCSSVariableName)
    - [x] `src/app/globals.css` 색상 변수 업데이트 (primary 색상 개선: oklch(0.35 0.03 250), 색상 대비율 검증)
    - [x] `src/components/theme-switcher.tsx` 개선 (한국어 레이블 추가, 접근성 개선: ARIA 레이블, 키보드 네비게이션, role="menuitemradio")
    - [x] 주요 페이지에서 다크 모드 렌더링 검증 (모든 페이지와 컴포넌트에서 다크 모드 작동 확인, Tailwind 시맨틱 색상 클래스 사용 확인)
    - [x] `docs/THEME.md` 테마 시스템 사용 가이드 문서 작성 (테마 시스템 개요, 색상 팔레트 설명, 사용 방법, 커스텀 색상 추가 방법)
- [x] 반응형 디자인
  - [x] 모바일 최적화
  - [x] 태블릿 레이아웃
- [x] 애니메이션 및 인터랙션
  - [x] 로딩 상태 표시
  - [x] 프롬프트 복사 피드백
  - [x] 페이지 전환 애니메이션
  ---
  - [x] 반응형 디자인 및 애니메이션 개선 구현 세부 작업 (plan 모드 build)
    - [x] `src/lib/constants/breakpoints.ts` 브레이크포인트 상수 정의 (모바일, 태블릿, 데스크톱 브레이크포인트)
    - [x] `src/hooks/use-breakpoint.ts` 반응형 훅 생성 (useIsMobile, useIsTablet, useDeviceType, useBreakpoint)
    - [x] `src/lib/utils/responsive.ts` 반응형 유틸리티 함수 생성 (getGridCols, getResponsivePadding, getResponsiveMargin, getResponsiveTextSize, getResponsiveGap)
    - [x] `src/components/header.tsx` 모바일 메뉴 터치 영역 확대 (최소 44x44px), 키보드 네비게이션 개선
    - [x] `src/components/footer.tsx` 모바일 링크 간격 조정, 텍스트 크기 최적화, 키보드 포커스 스타일 추가
    - [x] `src/components/landing/hero-section.tsx` 모바일 타이포그래피 조정 (텍스트 크기, 줄 간격)
    - [x] `src/components/landing/differentiators-section.tsx` 모바일 카드 레이아웃 세로 스택, 패딩 조정
    - [x] `src/components/landing/latest-trends-section.tsx` 모바일 그리드 1열, 카드 패딩 조정
    - [x] `src/components/landing/free-prompts-section.tsx` 모바일 그리드 1열, 카드 패딩 조정
    - [x] `src/app/free/page.tsx` 모바일 패딩 조정, 제목 크기 최적화
    - [x] `src/components/prompts/prompt-card.tsx` 모바일 카드 패딩 조정, 버튼 크기 확대, 호버 효과 추가
    - [x] `src/components/prompts/prompt-list.tsx` 모바일 그리드 1열, 태블릿 2열, 데스크톱 3열 적용
    - [x] `src/components/prompts/category-filter.tsx` 모바일 버튼 크기 및 텍스트 크기 조정
    - [x] `src/app/trends/page.tsx` 모바일 패딩 조정, 제목 크기 최적화
    - [x] `src/components/trends/trend-pack-card.tsx` 모바일 카드 레이아웃 최적화, 호버 효과 개선
    - [x] `src/components/trends/trend-pack-list.tsx` 모바일 1열, 태블릿 2열, 데스크톱 3열 적용
    - [x] `src/app/packs/[id]/page.tsx` 모바일 패딩 조정
    - [x] `src/components/packs/scraped-item-card.tsx` 모바일 카드 레이아웃 최적화, 호버 효과 추가
    - [x] `src/components/packs/scraped-items-section.tsx` 모바일 그리드 1열, 태블릿 2열, 데스크톱 3열 적용
    - [x] `src/components/packs/purpose-selector.tsx` 모바일 버튼 크기 및 간격 조정
    - [x] `src/app/pricing/page.tsx` 모바일 패딩 조정 (테이블은 이미 카드 형태로 최적화됨)
    - [x] `src/app/account/page.tsx` 모바일 섹션 간격 조정
    - [x] `src/components/header.tsx` 태블릿에서 데스크톱 네비게이션 표시 (sm 이상)
    - [x] `src/components/ui/spinner.tsx` 크기 변형 추가 (sm, md, lg)
    - [x] `src/components/ui/skeleton-variants.tsx` 다양한 스켈레톤 변형 추가 (SkeletonText, SkeletonCard, SkeletonList)
    - [x] `src/components/ui/loading-overlay.tsx` 전체 페이지 로딩 오버레이 컴포넌트 생성
    - [x] `src/app/free/loading.tsx` 프롬프트 리스트 스켈레톤 생성
    - [x] `src/app/pricing/loading.tsx` 가격 테이블 스켈레톤 생성
    - [x] `src/app/account/loading.tsx` 계정 정보 스켈레톤 생성
    - [x] `src/app/packs/[id]/loading.tsx` 패키지 상세 스켈레톤 개선 (반응형 그리드 적용)
    - [x] `src/components/prompts/copy-button.tsx` 복사 성공 시 아이콘 애니메이션 추가, 버튼 상태 전환 애니메이션 추가
    - [x] `src/app/template.tsx` 페이지 전환 애니메이션 래퍼 생성
    - [x] `src/components/ui/transition.tsx` 재사용 가능한 전환 컴포넌트 생성 (Transition, FadeIn, SlideUp)
    - [x] `src/components/ui/button.tsx` active 상태 스타일 추가 (scale 효과)
    - [x] `src/components/ui/input.tsx` 포커스 애니메이션 개선 (transition-duration, shadow 효과)
    - [x] `src/app/globals.css` prefers-reduced-motion 미디어 쿼리 추가 (애니메이션 선호도 설정 지원)
    - [x] `docs/RESPONSIVE.md` 반응형 디자인 가이드 문서 작성
    - [x] `docs/ANIMATIONS.md` 애니메이션 가이드 문서 작성

## SEO 및 메타데이터
- [x] `app/robots.ts` robots.txt 설정
- [x] `app/sitemap.ts` 사이트맵 생성
- [x] `app/manifest.ts` 웹 앱 매니페스트
- [x] 각 페이지별 메타데이터 설정
  - [x] Open Graph 이미지 설정 (코드 완료, 이미지 파일 추가 필요)
  - [x] Twitter Card 설정
  ---
  - [x] SEO 및 메타데이터 구현 세부 작업 (plan 모드 build)
    - [x] `src/app/robots.ts` robots.txt 파일 생성 (검색 엔진 크롤링 규칙 설정, Google/Naver Bot 특별 설정)
    - [x] `src/app/sitemap.ts` 사이트맵 파일 생성 (정적 페이지 + 동적 페이지(published trend_packs) 포함)
    - [x] `src/app/manifest.ts` 웹 앱 매니페스트 파일 생성 (PWA 설정, 테마 색상 연동)
    - [x] `src/app/layout.tsx` 루트 레이아웃 메타데이터 개선 (Open Graph 기본값, Twitter Card 기본값, keywords, verification 설정)
    - [x] `src/app/page.tsx` 랜딩 페이지 메타데이터 개선 (Open Graph, Twitter Card, canonical URL 추가)
    - [x] `src/app/free/page.tsx` 무료 프롬프트 페이지 메타데이터 개선 (Open Graph, Twitter Card, canonical URL 추가)
    - [x] `src/app/trends/page.tsx` 트렌드 목록 페이지 메타데이터 개선 (OG 이미지 URL, canonical URL 추가)
    - [x] `src/app/packs/[id]/page.tsx` 패키지 상세 페이지 메타데이터 개선 (동적 OG 이미지, enhanced description, canonical URL 추가)
    - [x] `src/app/pricing/page.tsx` 가격 페이지 메타데이터 개선 (OG 이미지 URL, canonical URL 추가)
    - [ ] `public/og-image.png` Open Graph 이미지 파일 추가 (1200x630px 권장, 사용자가 직접 생성 필요)
    - [ ] `public/logo.png` 로고 파일 추가 (사용자가 직접 생성 필요)
    - [ ] `public/icons/` 디렉토리 생성 및 다양한 크기 아이콘 추가 (manifest.ts에서 사용, 사용자가 직접 생성 필요)

## 테스트
- [ ] 단위 테스트
  - [ ] 유틸리티 함수 테스트
  - [ ] 컴포넌트 테스트
- [ ] 통합 테스트
  - [ ] API 라우트 테스트
  - [ ] 데이터베이스 쿼리 테스트
- [ ] E2E 테스트
  - [ ] 주요 사용자 플로우 테스트

## 문서화
- [ ] `README.md` 프로젝트 개요 및 설정 가이드
- [ ] `docs/API.md` API 문서
- [ ] `docs/DEPLOYMENT.md` 배포 가이드
- [ ] `docs/CONTRIBUTING.md` 기여 가이드

## 배포 및 인프라
- [ ] 환경 변수 설정
  - [ ] `.env.example` 파일 생성
  - [ ] 프로덕션 환경 변수 설정
- [ ] 배포 설정
  - [ ] Vercel/Netlify 배포 설정
  - [ ] CI/CD 파이프라인 설정
- [ ] 모니터링 및 로깅
  - [ ] 에러 추적 설정
  - [ ] 성능 모니터링 설정

## 보안
- [x] RLS 정책 검토 및 테스트
- [x] API 라우트 인증 미들웨어
- [x] 입력 데이터 검증
- [x] XSS/CSRF 방지
  ---
  - [x] 보안 강화 구현 세부 작업 (plan 모드 build)
    - [x] `docs/SECURITY.md` 보안 가이드 문서 생성 (RLS 정책 설명, 인증 및 권한 관리, 입력 데이터 검증, XSS/CSRF 방지, 보안 모범 사례)
    - [x] `scripts/test-rls-policies.ts` RLS 정책 테스트 스크립트 생성 (비인증/인증 사용자 시나리오 테스트)
    - [x] `supabase/migrations/20251214000000_improve_rls_with_subscription.sql` RLS 정책 개선 마이그레이션 생성 (구독 체크 함수 추가, 유료 콘텐츠 접근 시 구독 체크)
    - [x] `src/lib/middleware/auth.ts` 인증 미들웨어 유틸리티 생성 (requireAuth, requireSubscription, requireInternalApiKey, optionalAuth 함수)
    - [x] `src/lib/utils/api-error.ts` API 에러 처리 표준화 (표준화된 에러 응답 형식, HTTP 상태 코드 매핑, 에러 로깅 유틸리티, withErrorHandler 래퍼)
    - [x] 주요 API 라우트에 인증 미들웨어 적용 (`/api/trends/*`, `/api/prompts/[id]`, `/api/subscriptions/*`, `/api/crawl/run`)
    - [x] `src/lib/utils/validation.ts` 입력 검증 유틸리티 생성 (UUID, 이메일, URL, 문자열 길이, 숫자 범위, 카테고리 검증 함수)
    - [x] `src/lib/schemas/prompts.ts` 프롬프트 관련 Zod 스키마 정의
    - [x] `src/lib/schemas/trends.ts` 트렌드 관련 Zod 스키마 정의
    - [x] `src/lib/schemas/subscriptions.ts` 구독 관련 Zod 스키마 정의
    - [x] 주요 API 라우트에 입력 검증 적용 (`/api/prompts/usage`, `/api/prompts`, `/api/trends/[id]/scraped-items`)
    - [x] `src/lib/utils/sanitize.ts` XSS 방지 유틸리티 생성 (HTML 이스케이프, HTML 태그 제거, JavaScript 코드 제거, URL sanitization)
    - [x] `src/middleware.ts` CORS 정책 설정 추가
    - [x] `next.config.ts` 보안 헤더 설정 추가 (Content-Security-Policy, X-Frame-Options, X-Content-Type-Options, Referrer-Policy 등)

## 성능 최적화
- [x] 데이터베이스 쿼리 최적화
- [x] 이미지 최적화
- [x] 코드 스플리팅
- [x] 캐싱 전략 구현
  ---
  - [x] 성능 최적화 구현 세부 작업 (plan 모드 build)
    - [x] 데이터베이스 쿼리 최적화: N+1 문제 해결, 선택 필드 최적화 (`select("*")` 대신 필요한 필드만 선택), 인덱스 활용
    - [x] 이미지 최적화: `next.config.ts`에 이미지 최적화 설정 추가 (AVIF, WebP 포맷, deviceSizes, imageSizes 설정)
    - [x] 코드 스플리팅: 큰 라이브러리 및 컴포넌트 동적 임포트 (`PaymentWidget`, `UserProfile`, `PromptDetailModal`)
    - [x] 페이지 레벨 캐싱: `revalidate` 설정 추가 (`page.tsx`: 1시간, `free/page.tsx`: 1시간, `packs/[id]/page.tsx`: 30분, `trends/page.tsx`: 1시간)
    - [x] API 라우트 캐싱: `Cache-Control` 헤더 설정 (`/api/prompts`, `/api/trends`, `/api/trends/[id]`, `/api/prompts/[id]`)
    - [x] 폰트 최적화: `font-display: swap` 설정 (`layout.tsx`)
    - [x] 리소스 힌트: `preconnect`, `dns-prefetch` 추가 (Supabase, Clerk 도메인)
    - [x] 번들 크기 분석 스크립트 추가 (`package.json`에 `analyze` 스크립트 추가)
